"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[222],{99:function(e,r,n){n.r(r);var a=n(214),t=n(861),i=n(885),l=n(791),o=n(871),u=n(810),s=n(999),d=n(291),c=n(108),p=n(94),f=n(508),h=n(895),v=n(434),m=n(198),y=(n(55),n(184));r.default=function(){var e=(0,l.useContext)(c.V),r=(0,f.Z)(),n=r.isLoading,g=r.error,G=r.sendRequest,k=r.clearError,S=(0,p.c)({title:{value:"",isValid:!1},description:{value:"",isValid:!1},address:{value:"",isValid:!1},image:{value:null,isValid:!1}},!1),x=(0,i.Z)(S,2),B=x[0],D=x[1],C=(0,o.s0)(),T=function(){var r=(0,t.Z)((0,a.Z)().mark((function r(n){var t;return(0,a.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n.preventDefault(),r.prev=1,(t=new FormData).append("title",B.inputs.title.value),t.append("description",B.inputs.description.value),t.append("address",B.inputs.address.value),t.append("creator",e.userId),t.append("image",B.inputs.image.value),r.next=10,G("".concat("http://localhost:5000/api","/places"),"POST",t,{Authorization:"Bearer "+e.token});case 10:C("/"),r.next=15;break;case 13:r.prev=13,r.t0=r.catch(1);case 15:case 16:case"end":return r.stop()}}),r,null,[[1,13]])})));return function(e){return r.apply(this,arguments)}}();return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(v.Z,{error:g,onClear:k}),n&&(0,y.jsx)(h.Z,{asOverlay:!0}),(0,y.jsxs)("form",{className:"place-form",onSubmit:T,children:[(0,y.jsx)(u.Z,{id:"title",element:"input",type:"text",label:"Title",validators:[(0,d.hg)()],errorText:"Please enter a valid title.",onInput:D}),(0,y.jsx)(u.Z,{id:"description",element:"textarea",label:"Description",validators:[(0,d.CP)(5)],errorText:"Please enter a valid description (at least 5 characters).",onInput:D}),(0,y.jsx)(u.Z,{id:"address",element:"input",label:"Address",validators:[(0,d.hg)()],errorText:"Please enter a valid address.",onInput:D}),(0,y.jsx)(m.Z,{id:"image",onInput:D,errorText:"Please provide an image."}),(0,y.jsx)(s.Z,{type:"submit",disabled:!B.isValid,children:"ADD PLACE"})]})]})}},198:function(e,r,n){n.d(r,{Z:function(){return u}});var a=n(885),t=n(791),i=n(999),l=["AliceBlue","AntiqueWhite","Aqua","Aquamarine","Azure","Beige","Bisque","Black","BlanchedAlmond","Blue","BlueViolet","Brown","BurlyWood","CadetBlue","Chartreuse","Chocolate","Coral","CornflowerBlue","Cornsilk","Crimson","Cyan","DarkBlue","DarkCyan","DarkGoldenRod","DarkGray","DarkGrey","DarkGreen","DarkKhaki","DarkMagenta","DarkOliveGreen","Darkorange","DarkOrchid","DarkRed","DarkSalmon","DarkSeaGreen","DarkSlateBlue","DarkSlateGray","DarkSlateGrey","DarkTurquoise","DarkViolet","DeepPink","DeepSkyBlue","DimGray","DimGrey","DodgerBlue","FireBrick","FloralWhite","ForestGreen","Fuchsia","Gainsboro","GhostWhite","Gold","GoldenRod","Gray","Grey","Green","GreenYellow","HoneyDew","HotPink","IndianRed","Indigo","Ivory","Khaki","Lavender","LavenderBlush","LawnGreen","LemonChiffon","LightBlue","LightCoral","LightCyan","LightGoldenRodYellow","LightGray","LightGrey","LightGreen","LightPink","LightSalmon","LightSeaGreen","LightSkyBlue","LightSlateGray","LightSlateGrey","LightSteelBlue","LightYellow","Lime","LimeGreen","Linen","Magenta","Maroon","MediumAquaMarine","MediumBlue","MediumOrchid","MediumPurple","MediumSeaGreen","MediumSlateBlue","MediumSpringGreen","MediumTurquoise","MediumVioletRed","MidnightBlue","MintCream","MistyRose","Moccasin","NavajoWhite","Navy","OldLace","Olive","OliveDrab","Orange","OrangeRed","Orchid","PaleGoldenRod","PaleGreen","PaleTurquoise","PaleVioletRed","PapayaWhip","PeachPuff","Peru","Pink","Plum","PowderBlue","Purple","Red","RosyBrown","RoyalBlue","SaddleBrown","Salmon","SandyBrown","SeaGreen","SeaShell","Sienna","Silver","SkyBlue","SlateBlue","SlateGray","SlateGrey","Snow","SpringGreen","SteelBlue","Tan","Teal","Thistle","Tomato","Turquoise","Violet","Wheat","White","WhiteSmoke","Yellow","YellowGreen"],o=n(184),u=function(e){var r=(0,t.useRef)(),n=(0,t.useState)(),u=(0,a.Z)(n,2),s=u[0],d=u[1],c=(0,t.useState)(),p=(0,a.Z)(c,2),f=p[0],h=p[1],v=(0,t.useState)(),m=(0,a.Z)(v,2),y=m[0],g=m[1];(0,t.useEffect)((function(){if(s){var e=new FileReader;e.onloadend=function(){h(e.result)},e.readAsDataURL(s)}}),[s]);return(0,o.jsxs)("div",{className:"form-control",children:[(0,o.jsx)("input",{id:e.id,ref:r,type:"file",style:{display:"none"},accept:".jpg, .png, .jpeg",onChange:function(r){var n,a=y;r.target.files&&1===r.target.files.length?(d(r.target.files[0]),n=r.target.files[0],g(!0),a=!0):(a=!0,g(!1)),e.onInput(e.id,n,a)}}),(0,o.jsxs)("div",{className:"image-upload ".concat(e.center&&"center"),children:[(0,o.jsx)("div",{className:"image-upload__preview ".concat(e.circle&&"circle"),children:f&&(0,o.jsx)("img",{src:f,alt:"Preview",className:e.circle&&"circle"})}),(0,o.jsx)(i.Z,{type:"button",onClick:function(){r.current.click()},children:"PICK IMAGE"}),e.randomButton&&(0,o.jsx)(i.Z,{inverse:!0,type:"button",onClick:function(){var r=Math.round(1e3*Math.random()),n="https://avatars.dicebear.com/api/avataaars/:seed".concat(r,".svg?background=").concat(function(){var e=Math.floor(146*Math.random());return l[e]}());h(n);var a=n;e.onInput(e.id,a,!0)},children:"RANDOM"})]}),!y&&(0,o.jsx)("p",{children:e.errorText})]})}},810:function(e,r,n){n.d(r,{Z:function(){return s}});var a=n(885),t=n(413),i=n(791),l=n(291),o=n(184),u=function(e,r){switch(r.type){case"CHANGE":return(0,t.Z)((0,t.Z)({},e),{},{value:r.val,isValid:(0,l.Gu)(r.val,r.validators)});case"TOUCH":return(0,t.Z)((0,t.Z)({},e),{},{isTouched:!0});default:return e}},s=function(e){var r=(0,i.useReducer)(u,{value:e.initialValue||"",isTouched:!1,isValid:e.initialValid||!1}),n=(0,a.Z)(r,2),t=n[0],l=n[1],s=e.id,d=e.onInput,c=t.value,p=t.isValid;(0,i.useEffect)((function(){d(s,c,p)}),[s,c,p,d]);var f=function(r){l({type:"CHANGE",val:r.target.value,validators:e.validators})},h=function(){l({type:"TOUCH"})},v="input"===e.element?(0,o.jsx)("input",{id:e.id,type:e.type,placeholder:e.placeholder,onChange:f,onBlur:h,value:t.value}):(0,o.jsx)("textarea",{id:e.id,rows:e.rows||3,onChange:f,onBlur:h,value:t.value});return(0,o.jsxs)("div",{className:"form-control ".concat(!t.isValid&&t.isTouched&&"form-control--invalid"),children:[(0,o.jsx)("label",{htmlFor:e.id,children:e.label}),v,!t.isValid&&t.isTouched&&(0,o.jsx)("p",{children:e.errorText})]})}},94:function(e,r,n){n.d(r,{c:function(){return u}});var a=n(885),t=n(942),i=n(413),l=n(791),o=function(e,r){switch(r.type){case"INPUT_CHANGE":var n=!0;for(var a in e.inputs)n=a===r.inputId?n&&r.isValid:n&&e.inputs[a].isValid;return(0,i.Z)((0,i.Z)({},e),{},{inputs:(0,i.Z)((0,i.Z)({},e.inputs),{},(0,t.Z)({},r.inputId,{value:r.value,isValid:r.isValid})),isValid:n});case"SET_DATA":return{inputs:r.inputs,isValid:r.formIsValid};default:return e}},u=function(e,r){var n=(0,l.useReducer)(o,{inputs:e,isValid:r}),t=(0,a.Z)(n,2),i=t[0],u=t[1];return[i,(0,l.useCallback)((function(e,r,n){u({type:"INPUT_CHANGE",value:r,isValid:n,inputId:e})}),[]),(0,l.useCallback)((function(e,r){u({type:"SET_DATA",inputs:e,formIsValid:r})}),[])]}},291:function(e,r,n){n.d(r,{Ox:function(){return d},CP:function(){return s},hg:function(){return u},Gu:function(){return c}});var a=n(192);var t="REQUIRE",i="MINLENGTH",l="MAXLENGTH",o="EMAIL",u=function(){return{type:t}},s=function(e){return{type:i,val:e}},d=function(){return{type:o}},c=function(e,r){var n,u=!0,s=function(e,r){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,a.Z)(e))||r&&e&&"number"===typeof e.length){n&&(e=n);var t=0,i=function(){};return{s:i,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,l=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw l}}}}(r);try{for(s.s();!(n=s.n()).done;){var d=n.value;d.type===t&&(u=u&&e.trim().length>0),d.type===i&&(u=u&&e.trim().length>=d.val),d.type===l&&(u=u&&e.trim().length<=d.val),"MIN"===d.type&&(u=u&&+e>=d.val),"MAX"===d.type&&(u=u&&+e<=d.val),d.type===o&&(u=u&&/^\S+@\S+\.\S+$/.test(e))}}catch(c){s.e(c)}finally{s.f()}return u}},55:function(){}}]);
//# sourceMappingURL=222.3b03023e.chunk.js.map