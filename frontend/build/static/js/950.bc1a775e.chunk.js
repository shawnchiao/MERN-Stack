"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[950],{198:function(e,n,a){a.d(n,{Z:function(){return u}});var r=a(885),t=a(791),i=a(999),l=["AliceBlue","AntiqueWhite","Aqua","Aquamarine","Azure","Beige","Bisque","Black","BlanchedAlmond","Blue","BlueViolet","Brown","BurlyWood","CadetBlue","Chartreuse","Chocolate","Coral","CornflowerBlue","Cornsilk","Crimson","Cyan","DarkBlue","DarkCyan","DarkGoldenRod","DarkGray","DarkGrey","DarkGreen","DarkKhaki","DarkMagenta","DarkOliveGreen","Darkorange","DarkOrchid","DarkRed","DarkSalmon","DarkSeaGreen","DarkSlateBlue","DarkSlateGray","DarkSlateGrey","DarkTurquoise","DarkViolet","DeepPink","DeepSkyBlue","DimGray","DimGrey","DodgerBlue","FireBrick","FloralWhite","ForestGreen","Fuchsia","Gainsboro","GhostWhite","Gold","GoldenRod","Gray","Grey","Green","GreenYellow","HoneyDew","HotPink","IndianRed","Indigo","Ivory","Khaki","Lavender","LavenderBlush","LawnGreen","LemonChiffon","LightBlue","LightCoral","LightCyan","LightGoldenRodYellow","LightGray","LightGrey","LightGreen","LightPink","LightSalmon","LightSeaGreen","LightSkyBlue","LightSlateGray","LightSlateGrey","LightSteelBlue","LightYellow","Lime","LimeGreen","Linen","Magenta","Maroon","MediumAquaMarine","MediumBlue","MediumOrchid","MediumPurple","MediumSeaGreen","MediumSlateBlue","MediumSpringGreen","MediumTurquoise","MediumVioletRed","MidnightBlue","MintCream","MistyRose","Moccasin","NavajoWhite","Navy","OldLace","Olive","OliveDrab","Orange","OrangeRed","Orchid","PaleGoldenRod","PaleGreen","PaleTurquoise","PaleVioletRed","PapayaWhip","PeachPuff","Peru","Pink","Plum","PowderBlue","Purple","Red","RosyBrown","RoyalBlue","SaddleBrown","Salmon","SandyBrown","SeaGreen","SeaShell","Sienna","Silver","SkyBlue","SlateBlue","SlateGray","SlateGrey","Snow","SpringGreen","SteelBlue","Tan","Teal","Thistle","Tomato","Turquoise","Violet","Wheat","White","WhiteSmoke","Yellow","YellowGreen"],o=a(184),u=function(e){var n=(0,t.useRef)(),a=(0,t.useState)(),u=(0,r.Z)(a,2),s=u[0],d=u[1],c=(0,t.useState)(),p=(0,r.Z)(c,2),h=p[0],v=p[1],f=(0,t.useState)(),m=(0,r.Z)(f,2),y=m[0],g=m[1];(0,t.useEffect)((function(){if(s){var e=new FileReader;e.onloadend=function(){v(e.result)},e.readAsDataURL(s)}}),[s]);return(0,o.jsxs)("div",{className:"form-control",children:[(0,o.jsx)("input",{id:e.id,ref:n,type:"file",style:{display:"none"},accept:".jpg, .png, .jpeg",onChange:function(n){var a,r=y;n.target.files&&1===n.target.files.length?(d(n.target.files[0]),a=n.target.files[0],g(!0),r=!0):(r=!0,g(!1)),e.onInput(e.id,a,r)}}),(0,o.jsxs)("div",{className:"image-upload ".concat(e.center&&"center"),children:[(0,o.jsx)("div",{className:"image-upload__preview ".concat(e.circle&&"circle"),children:h&&(0,o.jsx)("img",{src:h,alt:"Preview",className:e.circle&&"circle"})}),(0,o.jsx)(i.Z,{type:"button",onClick:function(){n.current.click()},children:"PICK IMAGE"}),e.randomButton&&(0,o.jsx)(i.Z,{inverse:!0,type:"button",onClick:function(){var n=Math.round(1e3*Math.random()),a="https://avatars.dicebear.com/api/avataaars/:seed".concat(n,".svg?background=").concat(function(){var e=Math.floor(146*Math.random());return l[e]}());v(a);var r=a;e.onInput(e.id,r,!0)},children:"RANDOM"})]}),!y&&(0,o.jsx)("p",{children:e.errorText})]})}},810:function(e,n,a){a.d(n,{Z:function(){return s}});var r=a(885),t=a(413),i=a(791),l=a(291),o=a(184),u=function(e,n){switch(n.type){case"CHANGE":return(0,t.Z)((0,t.Z)({},e),{},{value:n.val,isValid:(0,l.Gu)(n.val,n.validators)});case"TOUCH":return(0,t.Z)((0,t.Z)({},e),{},{isTouched:!0});default:return e}},s=function(e){var n=(0,i.useReducer)(u,{value:e.initialValue||"",isTouched:!1,isValid:e.initialValid||!1}),a=(0,r.Z)(n,2),t=a[0],l=a[1],s=e.id,d=e.onInput,c=t.value,p=t.isValid;(0,i.useEffect)((function(){d(s,c,p)}),[s,c,p,d]);var h=function(n){l({type:"CHANGE",val:n.target.value,validators:e.validators})},v=function(){l({type:"TOUCH"})},f="input"===e.element?(0,o.jsx)("input",{id:e.id,type:e.type,placeholder:e.placeholder,onChange:h,onBlur:v,value:t.value}):(0,o.jsx)("textarea",{id:e.id,rows:e.rows||3,onChange:h,onBlur:v,value:t.value});return(0,o.jsxs)("div",{className:"form-control ".concat(!t.isValid&&t.isTouched&&"form-control--invalid"),children:[(0,o.jsx)("label",{htmlFor:e.id,children:e.label}),f,!t.isValid&&t.isTouched&&(0,o.jsx)("p",{children:e.errorText})]})}},373:function(e,n,a){a.d(n,{Z:function(){return t}});a(791);var r=a(184),t=function(e){return(0,r.jsx)("div",{className:"card ".concat(e.className),style:e.style,children:e.children})}},94:function(e,n,a){a.d(n,{c:function(){return u}});var r=a(885),t=a(942),i=a(413),l=a(791),o=function(e,n){switch(n.type){case"INPUT_CHANGE":var a=!0;for(var r in e.inputs)a=r===n.inputId?a&&n.isValid:a&&e.inputs[r].isValid;return(0,i.Z)((0,i.Z)({},e),{},{inputs:(0,i.Z)((0,i.Z)({},e.inputs),{},(0,t.Z)({},n.inputId,{value:n.value,isValid:n.isValid})),isValid:a});case"SET_DATA":return{inputs:n.inputs,isValid:n.formIsValid};default:return e}},u=function(e,n){var a=(0,l.useReducer)(o,{inputs:e,isValid:n}),t=(0,r.Z)(a,2),i=t[0],u=t[1];return[i,(0,l.useCallback)((function(e,n,a){u({type:"INPUT_CHANGE",value:n,isValid:a,inputId:e})}),[]),(0,l.useCallback)((function(e,n){u({type:"SET_DATA",inputs:e,formIsValid:n})}),[])]}},291:function(e,n,a){a.d(n,{Ox:function(){return d},CP:function(){return s},hg:function(){return u},Gu:function(){return c}});var r=a(192);var t="REQUIRE",i="MINLENGTH",l="MAXLENGTH",o="EMAIL",u=function(){return{type:t}},s=function(e){return{type:i,val:e}},d=function(){return{type:o}},c=function(e,n){var a,u=!0,s=function(e,n){var a="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=(0,r.Z)(e))||n&&e&&"number"===typeof e.length){a&&(e=a);var t=0,i=function(){};return{s:i,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,o=!0,u=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return o=e.done,e},e:function(e){u=!0,l=e},f:function(){try{o||null==a.return||a.return()}finally{if(u)throw l}}}}(n);try{for(s.s();!(a=s.n()).done;){var d=a.value;d.type===t&&(u=u&&e.trim().length>0),d.type===i&&(u=u&&e.trim().length>=d.val),d.type===l&&(u=u&&e.trim().length<=d.val),"MIN"===d.type&&(u=u&&+e>=d.val),"MAX"===d.type&&(u=u&&+e<=d.val),d.type===o&&(u=u&&/^\S+@\S+\.\S+$/.test(e))}}catch(c){s.e(c)}finally{s.f()}return u}},191:function(e,n,a){a.r(n),a.d(n,{default:function(){return k}});var r=a(214),t=a(861),i=a(413),l=a(885),o=a(791),u=a(373),s=a(810),d=a(999),c=a(434),p=a(895),h=a(291),v=a(94),f=a(508),m=a(108),y=a(198),g=a(184),k=function(){var e=(0,o.useContext)(m.V),n=(0,o.useState)(!0),a=(0,l.Z)(n,2),k=a[0],G=a[1],S=(0,f.Z)(),x=S.isLoading,w=S.error,Z=S.sendRequest,C=S.clearError,B=(0,v.c)({email:{value:"",isValid:!1},password:{value:"",isValid:!1}},!1),T=(0,l.Z)(B,3),j=T[0],D=T[1],I=T[2],L=function(){var n=(0,t.Z)((0,r.Z)().mark((function n(a){var t,i,l;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a.preventDefault(),!k){n.next=13;break}return n.prev=2,n.next=5,Z("".concat("http://localhost:5000/api","/users/login"),"POST",JSON.stringify({email:j.inputs.email.value,password:j.inputs.password.value}),{"Content-Type":"application/json"});case 5:t=n.sent,e.login(t.userId,t.token),n.next=11;break;case 9:n.prev=9,n.t0=n.catch(2);case 11:n.next=27;break;case 13:return n.prev=13,(i=new FormData).append("name",j.inputs.name.value),i.append("email",j.inputs.email.value),i.append("password",j.inputs.password.value),i.append("image",j.inputs.image.value),n.next=21,Z("".concat("http://localhost:5000/api","/users/signup"),"POST",i);case 21:l=n.sent,e.login(l.userId,l.token),n.next=27;break;case 25:n.prev=25,n.t1=n.catch(13);case 27:case"end":return n.stop()}}),n,null,[[2,9],[13,25]])})));return function(e){return n.apply(this,arguments)}}();return(0,g.jsxs)(o.Fragment,{children:[(0,g.jsx)(c.Z,{error:w,onClear:C}),(0,g.jsxs)(u.Z,{className:"authentication",children:[x&&(0,g.jsx)(p.Z,{asOverlay:!0}),(0,g.jsx)("h2",{children:"Login Required"}),(0,g.jsx)("hr",{}),(0,g.jsxs)("form",{onSubmit:L,children:[!k&&(0,g.jsx)(s.Z,{element:"input",id:"name",type:"text",label:"Your Name",validators:[(0,h.hg)()],errorText:"Please enter a name.",onInput:D}),!k&&(0,g.jsx)(y.Z,{circle:!0,randomButton:!0,id:"image",center:!0,onInput:D,errorText:"Please provide an image."}),(0,g.jsx)(s.Z,{element:"input",id:"email",type:"email",label:"E-Mail",validators:[(0,h.Ox)()],errorText:"Please enter a valid email address.",onInput:D}),(0,g.jsx)(s.Z,{element:"input",id:"password",type:"password",label:"Password",validators:[(0,h.CP)(6)],errorText:"Please enter a valid password, at least 6 characters.",onInput:D}),(0,g.jsx)(d.Z,{type:"submit",disabled:!j.isValid,children:k?"LOGIN":"SIGNUP"})]}),(0,g.jsxs)(d.Z,{inverse:!0,onClick:function(){k?I((0,i.Z)((0,i.Z)({},j.inputs),{},{name:{value:"",isValid:!1},image:{value:null,isValid:!1}}),!1):I((0,i.Z)((0,i.Z)({},j.inputs),{},{name:void 0,image:void 0}),j.inputs.email.isValid&&j.inputs.password.isValid),G((function(e){return!e}))},children:["SWITCH TO ",k?"SIGNUP":"LOGIN"]})]})]})}}}]);
//# sourceMappingURL=950.bc1a775e.chunk.js.map