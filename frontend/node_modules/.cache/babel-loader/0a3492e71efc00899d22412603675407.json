{"ast":null,"code":"import _regeneratorRuntime from\"/Users/shawn/Desktop/Web development/reactNew/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/shawn/Desktop/Web development/reactNew/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/shawn/Desktop/Web development/reactNew/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{useParams}from'react-router-dom';import PlaceList from'../components/PlaceList';import useHttpClient from'../../shared/hooks/http-hook';import ErrorModal from'../../shared/components/UIElements/ErrorModal';import LoadingSpinner from'../../shared/components/UIElements/LoadingSpinner';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var UserPlaces=function UserPlaces(){var _useHttpClient=useHttpClient(),error=_useHttpClient.error,clearError=_useHttpClient.clearError,sendRequest=_useHttpClient.sendRequest,isLoading=_useHttpClient.isLoading;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),places=_useState2[0],setPlaces=_useState2[1];var userId=useParams().userId;var placeDeleteHandler=function placeDeleteHandler(deletedPlaceId){setPlaces(function(prevPlaces){return prevPlaces.filter(function(place){return place.id!==deletedPlaceId;});});};useEffect(function(){var getData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return sendRequest(\"\".concat(process.env.REACT_APP_BACKEND_URL,\"/places/user/\").concat(userId));case 2:response=_context.sent;setPlaces(response.places);case 4:case\"end\":return _context.stop();}}},_callee);}));return function getData(){return _ref.apply(this,arguments);};}();getData();},[sendRequest,userId]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(ErrorModal,{error:error,onClear:clearError}),isLoading&&/*#__PURE__*/_jsx(LoadingSpinner,{asOverlay:true}),/*#__PURE__*/_jsx(PlaceList,{items:places,onDeletePlace:placeDeleteHandler}),\";\"]});};export default UserPlaces;","map":{"version":3,"names":["React","useEffect","useState","useParams","PlaceList","useHttpClient","ErrorModal","LoadingSpinner","UserPlaces","error","clearError","sendRequest","isLoading","places","setPlaces","userId","placeDeleteHandler","deletedPlaceId","prevPlaces","filter","place","id","getData","process","env","REACT_APP_BACKEND_URL","response"],"sources":["/Users/shawn/Desktop/Web development/reactNew/frontend/src/places/pages/UserPlaces.js"],"sourcesContent":["import React, {useEffect, useState} from 'react';\nimport { useParams } from 'react-router-dom';\n\nimport PlaceList from '../components/PlaceList';\nimport useHttpClient from '../../shared/hooks/http-hook';\nimport ErrorModal from '../../shared/components/UIElements/ErrorModal';\nimport LoadingSpinner from '../../shared/components/UIElements/LoadingSpinner';\n\nconst UserPlaces = () => {\n  const {error, clearError, sendRequest, isLoading} = useHttpClient();\n  const [places, setPlaces] = useState([]);\n  const userId = useParams().userId;\n\n  const placeDeleteHandler = (deletedPlaceId) => {\n    setPlaces(prevPlaces => \n      prevPlaces.filter(place => place.id !== deletedPlaceId)\n      );\n  };\n\n  useEffect(()=>{\n    const getData = async () => {\n      const response = await sendRequest(`${process.env.REACT_APP_BACKEND_URL}/places/user/${userId}`);\n      setPlaces(response.places);\n    };\n    getData();\n  },[sendRequest, userId])\n  return (\n  <>\n  <ErrorModal error={error} onClear={clearError} />\n  {isLoading && <LoadingSpinner asOverlay />}\n  <PlaceList items={places} onDeletePlace={placeDeleteHandler} />;\n  </>\n  )\n};\n\nexport default UserPlaces;\n"],"mappings":"obAAA,MAAOA,MAAP,EAAeC,SAAf,CAA0BC,QAA1B,KAAyC,OAAzC,CACA,OAASC,SAAT,KAA0B,kBAA1B,CAEA,MAAOC,UAAP,KAAsB,yBAAtB,CACA,MAAOC,cAAP,KAA0B,8BAA1B,CACA,MAAOC,WAAP,KAAuB,+CAAvB,CACA,MAAOC,eAAP,KAA2B,mDAA3B,C,6IAEA,GAAMC,WAAU,CAAG,QAAbA,WAAa,EAAM,CACvB,mBAAoDH,aAAa,EAAjE,CAAOI,KAAP,gBAAOA,KAAP,CAAcC,UAAd,gBAAcA,UAAd,CAA0BC,WAA1B,gBAA0BA,WAA1B,CAAuCC,SAAvC,gBAAuCA,SAAvC,CACA,cAA4BV,QAAQ,CAAC,EAAD,CAApC,wCAAOW,MAAP,eAAeC,SAAf,eACA,GAAMC,OAAM,CAAGZ,SAAS,GAAGY,MAA3B,CAEA,GAAMC,mBAAkB,CAAG,QAArBA,mBAAqB,CAACC,cAAD,CAAoB,CAC7CH,SAAS,CAAC,SAAAI,UAAU,QAClBA,WAAU,CAACC,MAAX,CAAkB,SAAAC,KAAK,QAAIA,MAAK,CAACC,EAAN,GAAaJ,cAAjB,EAAvB,CADkB,EAAX,CAAT,CAGD,CAJD,CAMAhB,SAAS,CAAC,UAAI,CACZ,GAAMqB,QAAO,4FAAG,wKACSX,YAAW,WAAIY,OAAO,CAACC,GAAR,CAAYC,qBAAhB,yBAAqDV,MAArD,EADpB,QACRW,QADQ,eAEdZ,SAAS,CAACY,QAAQ,CAACb,MAAV,CAAT,CAFc,sDAAH,kBAAPS,QAAO,0CAAb,CAIAA,OAAO,GACR,CANQ,CAMP,CAACX,WAAD,CAAcI,MAAd,CANO,CAAT,CAOA,mBACA,wCACA,KAAC,UAAD,EAAY,KAAK,CAAEN,KAAnB,CAA0B,OAAO,CAAEC,UAAnC,EADA,CAECE,SAAS,eAAI,KAAC,cAAD,EAAgB,SAAS,KAAzB,EAFd,cAGA,KAAC,SAAD,EAAW,KAAK,CAAEC,MAAlB,CAA0B,aAAa,CAAEG,kBAAzC,EAHA,OADA,CAOD,CAzBD,CA2BA,cAAeR,WAAf"},"metadata":{},"sourceType":"module"}