{"ast":null,"code":"import React,{Suspense}from\"react\";import{BrowserRouter as Router,Route,Routes,Navigate}from\"react-router-dom\";import LoadingSpinner from\"./shared/components/UIElements/LoadingSpinner\";// import Users from \"./user/pages/Users\";\n// import NewPlace from \"./places/pages/NewPlace\";\n// import UserPlaces from \"./places/pages/UserPlaces\";\n// import MainNavigation from \"../src/shared/components/Navigation/MainNavigation\";\n// import UpdatePlace from \"./places/pages/UpdatePlace\";\n// import Auth from \"./user/pages/Auth\";\nimport{AuthContext}from\"./shared/context/auth-context\";import{useAuth}from\"./shared/hooks/auth-hook\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Users=/*#__PURE__*/React.lazy(function(){return import(\"./user/pages/Users\");});var NewPlace=/*#__PURE__*/React.lazy(function(){return import(\"./places/pages/NewPlace\");});var UserPlaces=/*#__PURE__*/React.lazy(function(){return import(\"./places/pages/UserPlaces\");});var MainNavigation=/*#__PURE__*/React.lazy(function(){return import(\"../src/shared/components/Navigation/MainNavigation\");});var UpdatePlace=/*#__PURE__*/React.lazy(function(){return import(\"./places/pages/UpdatePlace\");});var Auth=/*#__PURE__*/React.lazy(function(){return import(\"./user/pages/Auth\");});function App(){var _useAuth=useAuth(),token=_useAuth.token,userId=_useAuth.userId,login=_useAuth.login,logout=_useAuth.logout;var routes;if(token){routes=/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Users,{})}),/*#__PURE__*/_jsx(Route,{path:\"/:userId/places\",element:/*#__PURE__*/_jsx(UserPlaces,{})}),/*#__PURE__*/_jsx(Route,{path:\"/places/new\",element:/*#__PURE__*/_jsx(NewPlace,{})}),/*#__PURE__*/_jsx(Route,{path:\"/places/:placeId\",element:/*#__PURE__*/_jsx(UpdatePlace,{})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/\"})})]});}else{routes=/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Users,{})}),/*#__PURE__*/_jsx(Route,{path:\"/:userId/places\",element:/*#__PURE__*/_jsx(UserPlaces,{})}),/*#__PURE__*/_jsx(Route,{path:\"/auth\",element:/*#__PURE__*/_jsx(Auth,{})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/auth\"})})]});}return/*#__PURE__*/_jsx(AuthContext.Provider,{value:{isLoggedIn:!!token,token:token,userId:userId,login:login,logout:logout},children:/*#__PURE__*/_jsxs(Router,{children:[/*#__PURE__*/_jsx(MainNavigation,{}),/*#__PURE__*/_jsx(\"main\",{children:/*#__PURE__*/_jsx(Suspense,{fallback:/*#__PURE__*/_jsx(LoadingSpinner,{}),children:routes})})]})});}export default App;","map":{"version":3,"names":["React","Suspense","BrowserRouter","Router","Route","Routes","Navigate","LoadingSpinner","AuthContext","useAuth","Users","lazy","NewPlace","UserPlaces","MainNavigation","UpdatePlace","Auth","App","token","userId","login","logout","routes","isLoggedIn"],"sources":["/Users/shawn/Desktop/Web development/reactNew/frontend/src/App.js"],"sourcesContent":["import React, { Suspense } from \"react\";\nimport {\n  BrowserRouter as Router,\n  Route,\n  Routes,\n  Navigate,\n} from \"react-router-dom\";\nimport LoadingSpinner from \"./shared/components/UIElements/LoadingSpinner\";\n\n// import Users from \"./user/pages/Users\";\n// import NewPlace from \"./places/pages/NewPlace\";\n// import UserPlaces from \"./places/pages/UserPlaces\";\n// import MainNavigation from \"../src/shared/components/Navigation/MainNavigation\";\n// import UpdatePlace from \"./places/pages/UpdatePlace\";\n// import Auth from \"./user/pages/Auth\";\nimport { AuthContext } from \"./shared/context/auth-context\";\nimport { useAuth } from \"./shared/hooks/auth-hook\";\n\nconst Users = React.lazy(() => import(\"./user/pages/Users\"));\nconst NewPlace = React.lazy(() => import(\"./places/pages/NewPlace\"));\nconst UserPlaces = React.lazy(() => import(\"./places/pages/UserPlaces\"));\nconst MainNavigation = React.lazy(() =>\n  import(\"../src/shared/components/Navigation/MainNavigation\")\n);\nconst UpdatePlace = React.lazy(() => import(\"./places/pages/UpdatePlace\"));\nconst Auth = React.lazy(() => import(\"./user/pages/Auth\"));\n\nfunction App() {\n  const { token, userId, login, logout } = useAuth();\n\n  let routes;\n\n  if (token) {\n    routes = (\n      <Routes>\n        <Route path=\"/\" element={<Users />} />\n        <Route path=\"/:userId/places\" element={<UserPlaces />} />\n        <Route path=\"/places/new\" element={<NewPlace />} />\n        <Route path=\"/places/:placeId\" element={<UpdatePlace />} />\n        <Route path=\"*\" element={<Navigate to=\"/\" />} />\n      </Routes>\n    );\n  } else {\n    routes = (\n      <Routes>\n        <Route path=\"/\" element={<Users />} />\n        <Route path=\"/:userId/places\" element={<UserPlaces />} />\n        <Route path=\"/auth\" element={<Auth />} />\n        <Route path=\"*\" element={<Navigate to=\"/auth\" />} />\n      </Routes>\n    );\n  }\n  return (\n    <AuthContext.Provider\n      value={{\n        isLoggedIn: !!token,\n        token: token,\n        userId: userId,\n        login: login,\n        logout: logout,\n      }}\n    >\n      <Router>\n        <MainNavigation />\n        <main>\n          <Suspense fallback={<LoadingSpinner />}>\n            {routes}\n          </Suspense>\n        </main>\n      </Router>\n    </AuthContext.Provider>\n  );\n}\n\nexport default App;\n"],"mappings":"AAAA,MAAOA,MAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OACEC,aAAa,GAAIC,OADnB,CAEEC,KAFF,CAGEC,MAHF,CAIEC,QAJF,KAKO,kBALP,CAMA,MAAOC,eAAP,KAA2B,+CAA3B,CAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAASC,WAAT,KAA4B,+BAA5B,CACA,OAASC,OAAT,KAAwB,0BAAxB,C,wFAEA,GAAMC,MAAK,cAAGV,KAAK,CAACW,IAAN,CAAW,iBAAM,QAAO,oBAAP,CAAN,EAAX,CAAd,CACA,GAAMC,SAAQ,cAAGZ,KAAK,CAACW,IAAN,CAAW,iBAAM,QAAO,yBAAP,CAAN,EAAX,CAAjB,CACA,GAAME,WAAU,cAAGb,KAAK,CAACW,IAAN,CAAW,iBAAM,QAAO,2BAAP,CAAN,EAAX,CAAnB,CACA,GAAMG,eAAc,cAAGd,KAAK,CAACW,IAAN,CAAW,iBAChC,QAAO,oDAAP,CADgC,EAAX,CAAvB,CAGA,GAAMI,YAAW,cAAGf,KAAK,CAACW,IAAN,CAAW,iBAAM,QAAO,4BAAP,CAAN,EAAX,CAApB,CACA,GAAMK,KAAI,cAAGhB,KAAK,CAACW,IAAN,CAAW,iBAAM,QAAO,mBAAP,CAAN,EAAX,CAAb,CAEA,QAASM,IAAT,EAAe,CACb,aAAyCR,OAAO,EAAhD,CAAQS,KAAR,UAAQA,KAAR,CAAeC,MAAf,UAAeA,MAAf,CAAuBC,KAAvB,UAAuBA,KAAvB,CAA8BC,MAA9B,UAA8BA,MAA9B,CAEA,GAAIC,OAAJ,CAEA,GAAIJ,KAAJ,CAAW,CACTI,MAAM,cACJ,MAAC,MAAD,yBACE,KAAC,KAAD,EAAO,IAAI,CAAC,GAAZ,CAAgB,OAAO,cAAE,KAAC,KAAD,IAAzB,EADF,cAEE,KAAC,KAAD,EAAO,IAAI,CAAC,iBAAZ,CAA8B,OAAO,cAAE,KAAC,UAAD,IAAvC,EAFF,cAGE,KAAC,KAAD,EAAO,IAAI,CAAC,aAAZ,CAA0B,OAAO,cAAE,KAAC,QAAD,IAAnC,EAHF,cAIE,KAAC,KAAD,EAAO,IAAI,CAAC,kBAAZ,CAA+B,OAAO,cAAE,KAAC,WAAD,IAAxC,EAJF,cAKE,KAAC,KAAD,EAAO,IAAI,CAAC,GAAZ,CAAgB,OAAO,cAAE,KAAC,QAAD,EAAU,EAAE,CAAC,GAAb,EAAzB,EALF,GADF,CASD,CAVD,IAUO,CACLA,MAAM,cACJ,MAAC,MAAD,yBACE,KAAC,KAAD,EAAO,IAAI,CAAC,GAAZ,CAAgB,OAAO,cAAE,KAAC,KAAD,IAAzB,EADF,cAEE,KAAC,KAAD,EAAO,IAAI,CAAC,iBAAZ,CAA8B,OAAO,cAAE,KAAC,UAAD,IAAvC,EAFF,cAGE,KAAC,KAAD,EAAO,IAAI,CAAC,OAAZ,CAAoB,OAAO,cAAE,KAAC,IAAD,IAA7B,EAHF,cAIE,KAAC,KAAD,EAAO,IAAI,CAAC,GAAZ,CAAgB,OAAO,cAAE,KAAC,QAAD,EAAU,EAAE,CAAC,OAAb,EAAzB,EAJF,GADF,CAQD,CACD,mBACE,KAAC,WAAD,CAAa,QAAb,EACE,KAAK,CAAE,CACLC,UAAU,CAAE,CAAC,CAACL,KADT,CAELA,KAAK,CAAEA,KAFF,CAGLC,MAAM,CAAEA,MAHH,CAILC,KAAK,CAAEA,KAJF,CAKLC,MAAM,CAAEA,MALH,CADT,uBASE,MAAC,MAAD,yBACE,KAAC,cAAD,IADF,cAEE,mCACE,KAAC,QAAD,EAAU,QAAQ,cAAE,KAAC,cAAD,IAApB,UACGC,MADH,EADF,EAFF,GATF,EADF,CAoBD,CAED,cAAeL,IAAf"},"metadata":{},"sourceType":"module"}